# scales.py

SSHWS_CODE = 0
AUS_CODE = 1
IMD_CODE = 2
JMA_CODE = 3
MFR_CODE = 4
JMADOM_CODE = 5

class ColormapEntry:
    def __init__(self, name, value, wind):
        self.name = name
        self.value = value
        self.wind = wind

class Colormap:
    def __init__(self, numcolors, entries, disturbancecolor):
        self.numcolors = numcolors
        self.entries = entries
        self.disturbancecolor = disturbancecolor

SSHWS_ENTRIES = [
    ColormapEntry("TD", (0x6e / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 0),
    ColormapEntry("TS", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("C1", (0xff / 0xFF, 0xff / 0xFF, 0xd9 / 0xFF), 64),
    ColormapEntry("C2", (0xff / 0xFF, 0xd9 / 0xFF, 0x8c / 0xFF), 83),
    ColormapEntry("C3", (0xff / 0xFF, 0x9e / 0xFF, 0x59 / 0xFF), 96),
    ColormapEntry("C4", (0xff / 0xFF, 0x73 / 0xFF, 0x8a / 0xFF), 114),
    ColormapEntry("C5", (0xa1 / 0xFF, 0x88 / 0xFF, 0xfc / 0xFF), 136),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

SSHWS_COLORMAP = Colormap(
    numcolors=7,
    entries=SSHWS_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

AUS_ENTRIES = [
    ColormapEntry("TL", (0x61 / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 0),
    ColormapEntry("C1", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("C2", (0xc0 / 0xFF, 0xff / 0xc0, 0xc0 / 0xFF), 48),
    ColormapEntry("C3", (0xff / 0xd9, 0x8c / 0xFF, 0x8c / 0xFF), 64),
    ColormapEntry("C4", (0xff / 0x73, 0x8a / 0xFF, 0x8a / 0xFF), 86),
    ColormapEntry("C5", (0xa1 / 0x88, 0xfc / 0xFF, 0xfc / 0xFF), 107),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

AUS_COLORMAP = Colormap(
    numcolors=6,
    entries=AUS_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

IMD_ENTRIES = [
    ColormapEntry("D", (0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF), 0),
    ColormapEntry("DD", (0x6e / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 28),
    ColormapEntry("CS", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("SCS", (0xc0 / 0xFF, 0xff / 0xc0, 0xc0 / 0xFF), 48),
    ColormapEntry("VSCS", (0xff / 0xd9, 0x8c / 0xFF, 0x8c / 0xFF), 65),
    ColormapEntry("ESCS", (0xff / 0x73, 0x8a / 0xFF, 0x8a / 0xFF), 90),
    ColormapEntry("SUCS", (0xa1 / 0x88, 0xfc / 0xFF, 0xfc / 0xFF), 120),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

IMD_COLORMAP = Colormap(
    numcolors=7,
    entries=IMD_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

JMA_ENTRIES = [
    ColormapEntry("TD", (0x6e / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 0),
    ColormapEntry("TS", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("STS", (0xc0 / 0xFF, 0xff / 0xc0, 0xc0 / 0xFF), 48),
    ColormapEntry("TY", (0xff / 0xd9, 0x8c / 0xFF, 0x8c / 0xFF), 64),
    ColormapEntry("VSTY", (0xff / 0x73, 0x8a / 0xFF, 0x8a / 0xFF), 84),
    ColormapEntry("VITY", (0xa1 / 0x88, 0xfc / 0xFF, 0xfc / 0xFF), 104),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

JMA_COLORMAP = Colormap(
    numcolors=6,
    entries=JMA_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

MFR_ENTRIES = [
    ColormapEntry("TDi", (0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF), 0),
    ColormapEntry("TD", (0x6e / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 28),
    ColormapEntry("MTS", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("STS", (0xc0 / 0xFF, 0xff / 0xc0, 0xc0 / 0xFF), 48),
    ColormapEntry("TC", (0xff / 0xd9, 0x8c / 0xFF, 0x8c / 0xFF), 64),
    ColormapEntry("ITC", (0xff / 0x73, 0x8a / 0xFF, 0x8a / 0xFF), 86),
    ColormapEntry("VITC", (0xa1 / 0x88, 0xfc / 0xFF, 0xfc / 0xFF), 116),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

MFR_COLORMAP = Colormap(
    numcolors=7,
    entries=MFR_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

JMADOM_ENTRIES = [
    ColormapEntry("TD", (0x6e / 0xFF, 0xc1 / 0xFF, 0xea / 0xFF), 0),
    ColormapEntry("TS", (0x4d / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 34),
    ColormapEntry("STS", (0xc0 / 0xFF, 0xff / 0xc0, 0xc0 / 0xFF), 48),
    ColormapEntry("TY", (0xff / 0xd9, 0x8c / 0xFF, 0x8c / 0xFF), 64),
    ColormapEntry("VSTY", (0xff / 0x73, 0x8a / 0xFF, 0x8a / 0xFF), 84),
    ColormapEntry("VITY", (0xa1 / 0x88, 0xfc / 0xFF, 0xfc / 0xFF), 104),
    ColormapEntry("SENTINEL", (0xff / 0xFF, 0xff / 0xFF, 0xff / 0xFF), 0x7fffffff)
]

JMADOM_COLORMAP = Colormap(
    numcolors=6,
    entries=JMADOM_ENTRIES,
    disturbancecolor=(0x15 / 0xFF, 0x91 / 0xFF, 0xde / 0xFF)
)

def get_color(pos, scale):
    if scale == "SSHWS":
        colormap = SSHWS_COLORMAP
    elif scale == "AUS":
        colormap = AUS_COLORMAP
    elif scale == "IMD":
        colormap = IMD_COLORMAP
    elif scale == "JMA":
        colormap = JMA_COLORMAP
    elif scale == "MFR":
        colormap = MFR_COLORMAP
    elif scale == "JMADOM":
        colormap = JMADOM_COLORMAP
    else:
        colormap = SSHWS_COLORMAP

    for entry in colormap.entries:
        if pos["wind"] < entry.wind:
            return entry.value
    return colormap.entries[-1].value
